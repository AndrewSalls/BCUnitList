import createArrowNumberBox from"./arrow-box.js";import SETTINGS from"../../assets/settings.js";const BASE_PARTS={CANNON:0,STYLE:1,FOUNDATION:2};export default function loadCannonInfo(){const wrapper=document.querySelector("#cat-base-selector"),defaultCannon=createBaseStyling(SETTINGS.ototo.names[0],SETTINGS.ototo.cannon,SETTINGS.ototo.base,SETTINGS.ototo.style,1);defaultCannon.querySelector("label[data-input-type='0']")?.classList.add("hidden"),defaultCannon.querySelector("label[data-input-type='1']")?.classList.add("hidden"),wrapper?.appendChild(defaultCannon);for(let x=2;x<=SETTINGS.ototo.names.length;x++)wrapper?.appendChild(createBaseStyling(SETTINGS.ototo.names[x-1],SETTINGS.ototo.cannon,SETTINGS.ototo.base,SETTINGS.ototo.style,x))}function createBaseStyling(name,cannonCap,baseCap,styleCap,id){const wrapper=document.createElement("div");wrapper.classList.add("cannon-info"),wrapper.classList.add("v-align");const title=document.createElement("h4");title.textContent=name;const componentWrapper=document.createElement("div");componentWrapper.classList.add("h-align");const imageWrapper=document.createElement("div");imageWrapper.classList.add("base-image");const cannonImage=document.createElement("img");cannonImage.classList.add("cannon-image"),cannonImage.src=`./assets/img/foundation/base_${id}.png`,cannonImage.style.zIndex="1";const styleImage=document.createElement("img");styleImage.classList.add("style-image"),styleImage.src=`./assets/img/foundation/base_${id}_style.png`,styleImage.style.zIndex="2";const foundationImage=document.createElement("img");foundationImage.classList.add("foundation-image"),foundationImage.src=`./assets/img/foundation/base_${id}_foundation.png`,foundationImage.style.zIndex="0",imageWrapper.append(cannonImage,styleImage,foundationImage);const valueWrapper=document.createElement("div");valueWrapper.classList.add("base-values");const currentValues=window.localStorage.getItem(`oo_${id}`)?.split("-")??["0","0","0"];return valueWrapper.append(createBaseValueInput(cannonCap,parseInt(currentValues[0]),BASE_PARTS.CANNON,id),createBaseValueInput(styleCap,parseInt(currentValues[1]),BASE_PARTS.STYLE,id),createBaseValueInput(baseCap,parseInt(currentValues[2]),BASE_PARTS.FOUNDATION,id)),componentWrapper.append(imageWrapper,valueWrapper),wrapper.append(title,componentWrapper),wrapper}function createBaseValueInput(cap,currentValue,type,id){const valueLabel=document.createElement("label");valueLabel.classList.add("h-align"),valueLabel.dataset.inputType=`${type}`;const labelText=document.createElement("p");switch(type){case 0:labelText.textContent="Cannon";break;case 1:labelText.textContent="Style";break;case 2:labelText.textContent="Foundation";break;default:labelText.textContent="Undefined part of base"}const[labelInput,inputElm]=createArrowNumberBox(cap,currentValue,()=>{const currentValues=window.localStorage.getItem(`oo_${id}`)?.split("-")??["0","0","0"];currentValues[type]=inputElm.value,window.localStorage.setItem(`oo_${id}`,currentValues.join("-"))});return valueLabel.append(labelText,labelInput),valueLabel}