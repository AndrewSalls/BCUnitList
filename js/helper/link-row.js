export function observeRowChange(row,observerCallback){row.querySelector(".unit-icon")?.addEventListener("click",observerCallback),row.querySelectorAll(".level-select").forEach(l=>l.addEventListener("change",observerCallback)),row.querySelectorAll(".talent-box .talent-level").forEach(t=>t.addEventListener("change",observerCallback)),row.querySelectorAll(".orb-selector").forEach(o=>o.addEventListener("change",observerCallback)),row.querySelector(".fav-icon")?.addEventListener("click",observerCallback),row.querySelectorAll(".row-option .option-button").forEach(o=>o.addEventListener("click",observerCallback)),row.addEventListener("generic-update",observerCallback)}export function unobserveRowChange(row,observerCallback){row.querySelector(".unit-icon")?.removeEventListener("click",observerCallback),row.querySelectorAll(".level-select").forEach(l=>l.removeEventListener("change",observerCallback)),row.querySelectorAll(".talent-box .talent-level").forEach(t=>t.removeEventListener("change",observerCallback)),row.querySelectorAll(".orb-selector").forEach(o=>o.removeEventListener("change",observerCallback)),row.querySelector(".fav-icon")?.removeEventListener("click",observerCallback),row.querySelectorAll(".row-option .option-button").forEach(o=>o.removeEventListener("click",observerCallback)),row.removeEventListener("generic-update",observerCallback)}export function getValuesFromRow(row){const output={id:parseInt(row.querySelector(".row-id")?.textContent??"0"),current_form:parseInt(row.querySelector(".row-image").dataset.form??"0"),level:parseInt(row.querySelector(".max-level.level-select").value),plus_level:0,talents:[],ultra_talents:[],orb:[],favorited:"1"===row.querySelector(".row-favorite .fav-wrapper").dataset.favorited,hidden:row.classList.contains("hidden")},plusLevel=row.querySelector(".max-plus-level.level-select");plusLevel&&(output.plus_level=parseInt(plusLevel.value));const talents=[...row.querySelectorAll(".talent-box.regular-talent")];talents.length>0&&(output.talents=talents.map(t=>parseInt(t.querySelector(".talent-level")?.textContent??"0")));const ultraTalents=[...row.querySelectorAll(".talent-box.ultra-talent")];ultraTalents.length>0&&(output.ultra_talents=ultraTalents.map(t=>parseInt(t.querySelector(".talent-level")?.textContent??"0")));const orbs=[...row.querySelectorAll(".orb-selector")];return orbs.length>0&&(output.orb=orbs.map(o=>o.querySelector(".orb-color").dataset.trait?{trait:parseInt(o.querySelector(".orb-color").dataset.trait??"0"),type:parseInt(o.querySelector(".orb-type").dataset.type??"0"),rank:parseInt(o.querySelector(".orb-rank").dataset.rank??"0")}:null)),output}